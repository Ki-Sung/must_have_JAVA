# 07 메서드와 변수의 사용 가능 범위
- 프로그래밍을 하다 보면 똑같은 기능을 반복적으로 수행하는 코드 부분이 있습니다. 이렇게 반복 수행하는 코드 부분을 한 뭉치로 묶어서 별도로 빼어 놓을 수 있습니다. 그리고 이 뭉치에 이름을 붙이고 필요할 때마다 불러 사용할 수 있습니다. 이렇게 '특정 기능을 수행하는 일련의 코드 블록(block)'을 '메서드(method)'라고 말합니다.
- 우리는 이미 메서드를 많이 사용하고 있습니다. 출력하는 기능을 수행하면서 `println()`, `print()`, `printf()` 메서드를 입력 받으며 `nextInt()`, `nextLine()`, `next()` 메서드를 사용했습니다. 이렇게 자바에서 미리 만들어 제공하는 기능을 사용할 수도 있지만, 직접 만들어서 사용할 수도 있습니다.
- 이렇게 메서드를 만듬으로써 '중복되는 코드의 반복적인 프로그래밍을 피할 수 있고', '모듈화로 인해 코드의 가독성도 좋아지는' 효과가 있습니다.

  **참고**: 다른 언어에서는 메서드를 함수(function)라고도 부릅니다. 엄밀히 구분하면 클래스 안에 존재하는 함수를 메서드라고 하는데(파이썬), 자바에서 함수는 무조건 클래스 안에 존재하기 때문에 결국 모든 함수가 메서드가 됩니다.

## 1. 메서드의 정의
앞에서 살펴본 메서드의 특징은 아래와 같습니다.
- 어떤 기능을 제공합니다.
- 메서드의 형태는 뒤에 소괄호가 붙어 있습니다.

이제 좀 더 자세한 메서드의 특징을 알아보고, 작성법을 배워보겠습니다. 

수학 시간에 배웠던 함수를 떠올려봅시다. 아래와 같이 입력이 있고 이 입력된 값을 이용하여 계산을 하고 그 결과를 출력해줍니다. 자바에서 사용하는 메서드도 마찬가지입니다.

<img width="700" alt="1-92_function_method" src="https://github.com/user-attachments/assets/1f5e30d8-736c-401a-b8bd-b455a8603e19">

다음은 더하기 기능을 자바에서 구현해놓은 메서드입니다. 이렇게 기능을 구현하는 것을 '메서드를 정의한다' 라고 말합니다.

<img width="700" alt="1-93_method_structure" src="https://github.com/user-attachments/assets/096ac721-2f6f-44e5-a37a-00ebae757c3e">

"1번" 메서드명은 더하기 기능을 수행하는 코드 블록의 이름입니다. 함수 이름을 만드는 방법은 변수명을 만드는 방법과 같습니다. 알기 쉬운 단어를 여러개 이용하여 메서드 기능과 관련 있는 이름으로 만들고, 카멜 표기법을 사용하되 첫 글자를 소문자로 해주면 됩니다.

"2번" 매개변수는 메서드에 전달되는 입력값을 나타냅니다. 값의 자료형도 알아야겠기에 변수와 같은 방법으로 작성이 됩니다. 메서드 바깥의 값을 메서드 안으로 전달시켜준다고 해서 매개변수라고 부릅니다(영어로는 parameter라고 부릅니다). 여기서는 매개변수를 두 개 사용했지만, 개수 제한은 따로 없으므로 메서드 기능을 만드는데 필요한 만큼 매개변수를 받으면 됩니다. 그리고 아예 매개변수가 없을 수도 있습니다. 단, 메서드를 호출할 때 지정한 개수대로 매개변수의 값을 입력하지 않으면 에러가 발생합니다.

"3번" 반환형은 메서드에서 처리한 기능의 결과로 int형의 결과를 반환해준다고 정의했습니다. 반환하는 자료형에 따라 int, long, String 등을 적어주면 됩니다. 때론 반환값이 없을 수도 있습니다. 그럴 때도 빈자리로 놔두지 않고 void라고 표시해줍니다. 매개변수는 여러개일 수 있지만 반환형은 무조건 하나입니다. 

"4번" 코드 블록이 실행되면서 더하기 기능을 수행합니다. 여기서는 입력값 두 개를 더한 결과를 만듭니다.

"5번" 더하기 기능의 결과를 메서드 바깥으로 반환합니다. 이때 결과는 "3번"에서 정의한 자료형으로 반환해야 합니다. 만약에 "3번"에서 void로 지정해서 반환하는 값이 없다면 return 예약어를 사용하지 않습니다.

지금 배운 내용을 이용해서 앞에서 우리가 만든 클래스를 살펴보면 우리가 여태 사용한 `main()`도 메서드입니다.

<img width="700" alt="1-94_maib_method_structure" src="https://github.com/user-attachments/assets/94d18e86-da1a-4692-bbbf-5f27163b160a">

"1번" 메서드의 이름은 main이고 "2번" 매개변수는 한 개가 들어오고 "3번" 변환형에 void가 적혀 있으므로 반환값이 없습니다. 즉 어떤 값을 반환하지 않고 "4번" 코드 블록의 기능만 수행하면 된다는 뜻입니다. (매개변수에서 `String[]` 중 `[]`는 배열이라고 하는데 변수 하나에 여러개의 값을 담을 수 있습니다)

지금까지 내용을 예제를 통해 살펴보겠습니다. 아래의 코드에서 볼 수 있듯이 매개변수가 있냐 없냐, 반환값이 있냐 없냐에 따라 메서드 조합은 네 가지가 될 수 있습니다. 

![1-95_method_type_example](https://github.com/user-attachments/assets/6eb192ae-827f-49fb-8974-d97fdd5264b0)
![1-95_method_type_example_result](https://github.com/user-attachments/assets/a7203b19-3aa9-4ca5-89ff-1c83f360e181)

"1번" `main()` 메서드에 `static`이 붙어 있기 때문에 `main()` 메서드에서 호출하는 메서드에는 다 static이 붙어 있습니다. 

"2번" 반환값이 있는 메서드 호출은 반환값을 변수에 대입시켜줄 수 있습니다. "2번"은 다음과 같은 순서로 진행됩니다.
```
int age = getAge();
int age = 20;
```

마찬가지로 "3번"은 다음과 같은 순서로 진행됩니다.
```
System.out.println( getAge() );
System.out.println( 20 );
```

메서드를 호출한 지점으로 값이 반환되고 있습니다. 그리고 "3번"에서 볼 수 있듯이 반환값이 있는 메서드를 호출하고 결과를 꼭 변수에 대입받을 필요는 없습니다. 

## 2. 메서드 종료하기
이렇게 return은 어떤 값을 반환하는데 사용하는 예약어였습니다. 그런데 메서드 기능을 중간에 종료하는데도 사용합니다. 

다음 예제를 보겠습니다. 나누기 기능을 메서드로 만들어둔 예제 입니다. 

![1-97_return_for_exit_example](https://github.com/user-attachments/assets/e8cad43f-3177-4cc9-85d8-d878954c340c)
![1-98_return_for_exit_example_result](https://github.com/user-attachments/assets/b88e1b3d-9882-436a-abbf-ea4c7dacd955)

수학에서도 0으로 나눌 수 없듯이, 프로그램에서도 0으로 나누면 에러가 납니다. 그래서 매개변수로 들어온 수 중 나누기에 사용되는 두 번째 매개변수가 0이면 계산을 진행하면 안 됩니다. 이렇게 "1번"에 사용된 `return`은 어떤 값을 반환하는 용도가 아니고 메서드를 해당 지점에서 종료시키는 용도로 사용되었습니다. 

- **참고**: 반복문, switch문에서 사용한 break는 해당 문장의 중괄호를 빠져 나오지만 return은 메서드를 종료시킵니다.

정리하면 return은 다음과 같은 두 가지 용도로 사용됩니다.
- 메서드를 호출한 지점으로 값 반환
- 메서드 종료

## 3. 변수의 사용 가능 범위 
자바에서 변수는 사용할 수 있는 범위에 따라 클래스 변수, 지역 변수, 매개변수 등으로 구분할 수 있습니다. 이런 변수들은 사용할 수 있는 범위가 지정되어 있습니다. 

규칙은 간단합니다. 
1. 같은 영역에는 같은 이름의 변수가 존재할 수 없습니다.
2. 그리고 포함이 된 작은 영역 쪽에서 포함시킨 큰 영역 쪽의 변수는 사용할 수 있지만, 반대로는 안됩니다.

다음 예제를 통해 자세히 살펴보겠습니다. 

![1-99_variable_scope_example](https://github.com/user-attachments/assets/f0da5f81-03a0-4274-8f60-640eb8faaa5e)
![1-100_1-99_variable_scope_example_result](https://github.com/user-attachments/assets/34a3b033-9c31-4c8d-8624-221bdcdfc133)

위 코드는 다음과 같이 영역을 나눌 수 있습니다. 

![1-101_variable_scope_area](https://github.com/user-attachments/assets/b6a173bf-510b-4918-9972-8273b4bd709e)

설명을 위해 다음과 같이 가정을 해보겠습니다. 
- 영역 1: 기숙사
  - 영역 2: 1동, 2동, 3동 (앞의 예제처럼 메서드가 여러개 있다면, 지금은 한 동만 있네요)
    - 영역 3: (1동) 101호
    - 영역 4: (1동) 102호 (앗, 문 앞에 몇 호 표시가 떨어져서 없습니다)
    - 영역 5: (1동) 103호
   
영역 2에서는 영역 1의 변수를 사용할 수 있지만, 우리 코드에는 현재 영역 1에는 변수가 없습니다. 영역 3에서는 영역 2의 변수를 사용할 수 있습니다. 휴게실 등 공용 공간 등을 사용할 수 있겠죠. 그렇지만 영역 3에서 영역 3의 변수를 사용할 수는 없습니다. 옆 방이 몇 호인지 알 수 있겠지만 그 방안에 뭐가 있는지는 알 수 없습니다. 

"1번"의 주석을 풀면 에러가 납니다. 이는 영역 3에서 영역 2의 변수를 사용할 수 있다고 했는데, 주석을 풀면 영역 2의 입장에서 보면 같은 영역에서 사용할 수 있는 변수 두 개가 이름이 같게 되어 버리기 때문에 에러가 나는 겁니다. 

if문이나 for문 같은 특별한 문을 사용하지 않고 "2번"에서처럼 중괄호안으로 영역을 지정할 수도 있습니다. 일반적인 방법은 아니지만 가능한 방법입니다. 

"3번"의 주석을 풀면 알 수 없는 변수라고 에러가 납니다. "3번"의 위치에서는 각 방 안에 있는 변수를 알 수 있는 방법이 없기 때문입니다. 

같은 이유로 "4번"의 주석도 풀면 에러가 발생합니다. 여기에서의 i는 for문 안에서만 사용 가능합니다.

### 마무리 
여기까지 메서드 종류와 변수의 사용 가능 범위에 대해 알아보았습니다. 다음 그림을 보면서 각 요소별 이름과 범위를 확인해보세요. 

![1-102_variable_scope](https://github.com/user-attachments/assets/696d04b5-363a-4d28-accd-4e5b4ec76ca1)
