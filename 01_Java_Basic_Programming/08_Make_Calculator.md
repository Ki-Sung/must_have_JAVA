# 08 계산기 만들기(선행 학습 업그레이드)
- 선행 학습 맨 마지막 단계에서 계산기를 만들었습니다. 출력된 메뉴에서 사용자가 사칙연산 중 하나를 선택하고, 다시 사용자가 입력한 값으로 계산을 수행하여 결과를 출력하고 다시 메뉴를 출력하는 계산기였습니다. 지금부터 구현할 계산기는 선행 학습에서 만든 계산기와 기능이 같습니다. 하지만 지금까지 배운 모든 내용을 적용해서 더 섬세한 프로그램으로 만들어보고자 합니다.
### 계산기 조작법 
1. 실행(메뉴 출력)
2. 원하는 기능 입력
3. 입력이 '0'이면 종료, 아니면 두 숫자 입력
4. 입력된 숫자로 연산
5. 무한 반복

## 1. 메뉴 만들기
#### To do 01 - 패키지 생성 후 MyCalculator 클래스를 만들어 추가합니다.
![1-103_setup_project](https://github.com/user-attachments/assets/1a008e47-81af-47fe-9b74-0f13770ef271)

#### To do 02 - 입력 처리에 Scanner 클래스를 사용합니다. 그리고 선택할 수 있는 메뉴를 보여주는 기능을 메서드로 만들어줍니다. 그리고 메뉴를 호출합니다.
![1-104_make_menu_code](https://github.com/user-attachments/assets/c2443f7a-9678-448c-a13a-d51f54820f0f)

"1번" 입력처리를 위한 Scanner 클래스를 임포트합니다. 

"2번" 입력 처리를 위한 객체를 생성합니다. `sc`는 변수명이므로 변경해도 됩니다. 

"4번" 사용자에게 보여줄 메뉴 항목을 작성해 메서드로 만들고 "3번" 해당 메서드를 호출해 출력합니다.

#### To do 03 - 컴파일한 후 실행시켜 메뉴가 잘 출력되는지 확인합니다. 
![1-105_make_menu_code_result](https://github.com/user-attachments/assets/35275b77-8863-4a13-8223-72d5c19b7d76)

## 2. 메뉴 출력 및 사용자 입력
#### To do 01 - 반복문을 사용하여 메뉴가 계속해서 출력되어 사용자 입력을 처리할 수 있도록 만들어줍니다. 횟수가 정해지지 않고 끝나는 조건만 있을 때는 'while' 반복문이 'for' 반복문 보다 잘 어울립니다. 
![1-106_print_menu_input_code](https://github.com/user-attachments/assets/d68663e3-1f53-4da8-82dd-991b220cbcd0)

"1번" while문을 이용하여 반복문을 만듭니다. "2번" 메뉴 출력을 위해 메서드를 호출합니다. "3번" 사용자로부터 정수를 입력받습니다. 

"4번" 입력받은 값이 0일 경우, 반복문을 종료합니다. 

"5번" 입력받은 값이 0이 아니고 메뉴의 다른 값이면 `else` 부분의 중괄호에서 처리합니다. "6번" 잘못된 메뉴 번호가 입력되면 메시지를 출력하고 다시 메뉴 선택을 할 수 있도록 합니다. 

"7번" 반복문이 종료되면 메시지를 출력하고 프로그램을 종료합니다. 

#### To do 02 - 컴파일한 후 실행시켜 반복문에서 메뉴가 잘 출력되는지, 입력을 받고 입력받은 값을 잘 처리하는지 확인합니다. 일단 입력받은 값이 0이 아닐 때 메뉴가 반복적으로 잘 출력되고, 입력받은 값이 0일 때 프로그램이 종료되면 제대로 처리된 것 입니다.
![1-107_print_menu_input_code_result](https://github.com/user-attachments/assets/a9171e64-e31a-43f1-a065-5c697a6d9e01)

## 3. 연산 기능 만들기 
- 메뉴의 기능을 메서드로 만들어 추가하겠습니다.
#### To do 01 - `showMenu()` 메서드 아래 쪽에 각 연산 기능을 작성합니다. 
![1-108_calculator_function_code](https://github.com/user-attachments/assets/98dc4e23-023f-4181-a876-db46234d4789)

"1번" `addNum()`, "2번" `minusNum()`, "3번" `multiplyNum()`, "4번" `divideNum()` 메서드를 추가해주었습니다. 이 부분이 예전에 만든 코드와 많이 구분되는 점입니다. 모든 사칙연산의 로직이 `main()` 메서드 안에 있어어 보기가 불편했는데, 기능별로 메서드를 구현하고 이렇게 `main()` 밖으로 빼내주었습니다.

이렇게 기능별로 메서드로 구현해주면 `main()` 메서드에서는 전체 로직을 알아보기도 쉽고, 개별 기능별로는 수정을 쉽게 할 수 있습니다. 

## 4. 선택 메뉴 실행하기 
- 이제 사용자가 선택한 메뉴의 기능이 실행되도록 해줍시다.
#### To do 01 - if 조건문을 이용하여 선택한 메뉴에 맞는 기능을 수행하는 코드를 추가해주겠습니다. 기존 코드에서 주석 `// 더하기, 빼기, 곱하기, 나누기 실행 부분`에 다음 코드를 추가하겠습니다. 
![1-109_call_calculator_method_code](https://github.com/user-attachments/assets/7620064a-31a8-46b8-8173-554b4bf7d6b7)
- 각 조건문 안에 수행되는 문장의 한 문장씩밖에 없어 중괄호를 생략하였습니다.

## 5. 유효성 검사 
#### To do 01 - 이제 사용자의 입력이 숫자가 아닐 때를 체크해보겠습니다. 메뉴를 선택하는 입력은 숫자여야 하고, 사칙연산을 수행하는데 사용할 입력값도 숫자여야 합니다. 여기서 메뉴를 선택하는 부분에만 적용시키겠습니다. `checkNum()` 메서드를 코드의 맨 뒤에 추가합니다.
![1-110_check_num_code](https://github.com/user-attachments/assets/85d4238a-cd31-487b-b37e-e1f13186bae8)

`checkNum()` 메서드는 char형 데이터를 매개변수로 받아 숫자 0에서 9 사이의 값인지 확인하고 숫자이면 true를 반환하고 그렇지 않으면 false를 반환합니다.

#### To do 02 - 이제 해당 메서드를 이용하여 입력받은 값을 체크하면 됩니다. 입력받는 부분을 다음과 같이 수정합니다. 
![1-111_input_number_code](https://github.com/user-attachments/assets/b34b4c38-fefb-42b1-9d32-b1bbc762aa49)

기존의 입력 코드는 "1번" 입니다. 입력된 것이 숫자가 아닐 수도 있는데 여기서 무조건 숫자로 처리하여 입력받기 때문에 에러가 발생합니다.

"1번"을 주석 처리 하고 "2번"에서 `sc.nextLine()`을 이용하여 글자로 입력 받습니다. 글자로 입력을 받으면 키보드의 어떤 키라도 입력을 받을 수 있으므로 에러가 나지 않습니다. 다만 우리가 필요한 것은 한 글자, char형 데이터인데 char형의 데이터를 받는 기능은 따로 없으므로 `sc.nextLine().charAt(0)`을 이용하여 한 글자를 입력받습니다. 

이제 char형 데이터 한 개를 입력받았으니 "3번" `checkNum()` 메서드에 매개변수로 넘겨 숫자인지 체크합니다. 반환받은 값이 false 이면 "4번"이 실행됩니다. 잘못 입력을 받은 것이니 다시 메뉴 출력을 반복합니다. 

숫자이면 "5번"부터 다시 진행됩니다. "5번"에서처럼 숫자라고 판명된 char형 데이터를 바로 int형 데이터로 형변환해 출력해보면 '1'을 입력했을 때 49가 출력됩니다(문자 '1'의 십진수 값은 아스키코드표상 49이기 때문입니다). 

"6번"처럼 코드를 작성하면 char형 숫자를 int형 숫자로 변경할 수 있습니다. 만약 다른 방법으로 처리하고자 한다면, "7번"처럼 입력된 문자에 '0'을 빼면 됩니다. 

![1-112_string_minus_string_code](https://github.com/user-attachments/assets/56128476-e038-437a-a860-32f98c538b84)

산술 연산이기 때문에 char형 데이터는 int형 데이터로 형변환되고 '1' 입력하면 아래와 같은 순서로 연산됩니다. 

![1-113_string_minus_string_structure](https://github.com/user-attachments/assets/f57103a8-79a3-4875-a788-c36e37565826)

결과는 아래와 같습니다.

![1-114_calculator_result](https://github.com/user-attachments/assets/68856465-9b69-4200-956d-e66f3e0c2dd6)

이렇게 메뉴를 선택할 때 숫자가 아닌 키보드의 다른 입력을 방지하는 코드를 적용시킬 수 있습니다. 
