# 16 예외 처리
- 컴파일 오류는 없었지만, 프로그램 실행 시에 에러가 발생할 수 있습니다. 그리고 에러의 발생으로 프로그램이 비정상적으로 종료될 수도 있습니다. 
- 자바에서는 이런 상황을 예외 상황이라 하고 이를 처리하기 위한 예외 처리 방법을 제공합니다.

## 1. 예외와 에러 
우리가 프로그래밍을 할 때 코드에 문법적 오류가 있다면 InteliJ(혹은 다른 IDE)에서 바로 확인이 되거나 컴파일시에 에러가 발생하기 때문에 개발자가 해당 에러를 고칠 수 있습니다. 컴파일 에러는 개발 환경에서 대부분 오류 처리를 하게 됩니다. 그래야 컴파일이 되니까요. 그런데 컴파일 시에는 에러가 발생하지 않았지만 실행 중에 에러가 발생할 수도 있습니다. 예를 들면 나누기인데 사용자가 나누는 수로 0을 입력한 경우입니다. 이렇게 에러는 컴파일 에러(compile error)와 런타임 에러(runtime error)가 발생할 수 있습니다. 

![316_exception_structure](https://github.com/user-attachments/assets/1722cfa5-c494-4a00-9865-ec8540afebf7)

프로그램 실행 중에 발생하는 런타임 에러는 자바 가상 머신에서 발생하는 시스템 에러로 예측하기 어려운 경우도 있고, 반면에 예측할 수 있는 것도 있습니다. 시스템 에러는 사용 가능한 메모리가 부족하다거나, 운영체제에서 발생한 에러로 프로그램이 영향을 받게 되는 경우입니다. 이러한 시스템 에러는 개발자가 프로그램에서 제어할 수 없습니다. 

예측이 가능한 런타임 에러를 예외(exception)라고 부릅니다. 그리고 개발자가 다음과 같은 목적을 위해 제어하고 처리를 합니다. 

1. 프로그램 정상 종료
2. 예외 발생 시 무시하고 프로그램 계속 실행

자바에서 제공하는 에러에 대한 전체 클래스를 간단히 나타내면 다음과 같습니다. 프로그램에서 처리하는 예외 클래스의 최상위 클래스는 Exception 클래스 입니다. 그리고 모든 예외 타입은 클래스로서 서로 상속 관계입니다.

![317_exception_structure2](https://github.com/user-attachments/assets/017e53c9-249a-4bf6-af95-4648fd717701)

## 2. 예외 종류 
예외는 다음과 같이 실행 예외와 일반 예외로 한번 더 구분됩니다. 
- 실행 예외
  - 예외 처리를 하지 않아도 컴파일할 수 있는 비검사형 예외(unchecked exception)
  - 실행 단계에서 체크
- 일반 예외
  -  예외 처리를 하지 않으면 컴파일 오류가 발생하므로 꼭 처리해야 하는 검사형 예외(checked exception)
  -  컴파일 단계에서 체크
 
이처럼 예외를 구분하는 이유는 프로그램 성능 때문입니다. 모든 상황에서 예외 처리를 하면 프로그램의 성능 저하 문제로 이어지기 때문에 일반 예외는 컴파일러가 확실히 확인하고, 실행 예외는 개발자가 판단하여 예외를 처리하든지 처리가 안 되었다면 자바 가상 머신에 처리를 맡기게 됩니다. 

- 대표적인 실행 예외
| 실행 예외 | 발생 이유 | 
|:---|:---|
| ArtithmeticException | 0으로 나누기와 같은 부적절한 산술 연산을 수행할 때 발생합니다. |
| IllegalArgumentException | 메서드에 부적절한 매개변수를 전달할 때 발생합니다. | 
| IndexOutOfBoundException | 배열, 벡터 등에서 범위를 벗어난 인덱스를 사용할 때 발생합니다. | 
| NoSuchElementException | 요구한 원소가 없을 때 발생합니다. | 
| NullPointerException | null값을 가진 참조 변수에 접근할 때 발생합니다. | 
| NumberFormatException | 숫자로 바꿀수 없는 문자열을 숫자로 변환하려 할 때 발생합니다. | 

- 대표적인 일반 예외
| 실행 예외 | 발생 이유 | 
|:---|:---|
| ClassNotFoundException | 존재하지 않는 클래스를 사용하려고 할 때 발생합니다. | 
| NoSuchFieldException | 클래스가 명시한 필드를 포함하지 않을 때 발생합니다. | 
| NoSuchMethodException | 클래스가 명시한 메서드를 포함하지 않을 때 발생합니다. | 
| IOException | 데이터 읽기 쓰기 같은 입출력 문제가 있을 때 발생합니다. | 
